<?xml version="1.0" encoding="UTF-8"?>
<addons>
    <addon id="repository.livetv.czsk" name="LiveTV CZ/SK Repository (Omega 21)" version="1.1.0" provider-name="cratos38">
        <extension point="xbmc.addon.repository" name="LiveTV CZ/SK Repository">
            <dir>
                <info compressed="false">https://cratos38.github.io/kodirepo-livetv-czsk-omega21/addons.xml</info>
                <checksum>https://cratos38.github.io/kodirepo-livetv-czsk-omega21/addons.xml.md5</checksum>
                <datadir zip="true">https://cratos38.github.io/kodirepo-livetv-czsk-omega21/</datadir>
            </dir>
        </extension>
        <extension point="xbmc.addon.metadata">
            <summary lang="en">LiveTV CZ/SK Repository for Kodi 21 Omega</summary>
            <summary lang="cs">LiveTV CZ/SK Repozitar pro Kodi 21 Omega</summary>
            <summary lang="sk">LiveTV CZ/SK Repozitar pre Kodi 21 Omega</summary>
            <description lang="en">Repository for Czech and Slovak TV addons - Kodi 21 Omega version.</description>
            <platform>all</platform>
            <license>AGPL-3.0</license>
            <source>https://github.com/cratos38/kodirepo-livetv-czsk-omega21</source>
            <assets>
                <icon>icon.png</icon>
            </assets>
        </extension>
    </addon>
    <addon id="plugin.video.livetv.czsk" version="1.5.2" name="LiveTV - CZ/SK" provider-name="cratos38">
        <requires>
            <import addon="xbmc.python" version="3.0.0"/>
            <import addon="script.module.requests" version="2.22.0"/>
            <import addon="script.module.beautifulsoup4" version="4.9.0"/>
            <import addon="inputstream.adaptive" version="2.0.0" optional="true"/>
        </requires>
        <extension point="xbmc.python.pluginsource" library="main.py">
            <provides>video</provides>
        </extension>
        <extension point="xbmc.service" library="service.py" start="startup"/>
        <extension point="xbmc.addon.metadata">
            <platform>all</platform>
            <summary lang="en">Live TV channels from Czech Republic and Slovakia</summary>
            <summary lang="cs">Ceska a slovenska televize zive</summary>
            <summary lang="sk">Ceska a slovenska televizia nazivo</summary>
            <description lang="en">Watch free live TV channels from Czech Republic and Slovakia. Supports EPG and PVR IPTV Simple Client.

Supported channels:
- CT (Ceska televize): CT1, CT2, CT24, CT Sport, CT:D/art
- STVR (Slovak TV): Jednotka, Dvojka, Trojka, :24, Sport + CATCHUP
- Prima: Prima, Cool, Max, Krimi, Love, Zoom, Star, Show, CNN Prima News
- JOJ: JOJ, Plus, WAU, Family, Cinema, CS Film, CS History, CS Mystery
- Nova, TA3, Ocko, Markiza and more...

Features:
- Live TV streaming (all channels work in PVR Simple Client!)
- EPG support (7 days)
- Catch-up for CT, Prima, STVR
- Uses Freeview method (FFmpeg direct, no inputstream.adaptive issues)</description>
            <license>AGPL-3.0-or-later</license>
            <source>https://github.com/cratos38/kodirepo-livetv-czsk-omega21</source>
            <assets>
                <icon>resources/icon.png</icon>
                <fanart>resources/media/fanart.jpg</fanart>
            </assets>
            <news>
v1.5.2 (2026-01-21)
- FIX: Removed inputstream.adaptive for HLS streams (caused extradata errors)
- Uses "Freeview method": URL + headers with pipe separator (url|headers)
- FFmpeg handles HLS directly - more reliable than inputstream.adaptive
- All channels now work in PVR Simple Client: JOJ, CS Film, Prima, Nova, etc.
- Removed "Export M3U Direct" option (was causing issues)

TECHNICAL NOTE:
inputstream.adaptive in Kodi 21 (Omega) fails with "Codec id 27 require 
extradata" on some HLS streams. FFmpeg's native demuxer handles this correctly.
This is how Freeview addon solves the same problem.
            </news>
        </extension>
    </addon>
</addons>
